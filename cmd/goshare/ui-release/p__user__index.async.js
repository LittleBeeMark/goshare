(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[25],{NBP6:function(e,a,t){e.exports={table:"table___R1FlI"}},czJx:function(e,a,t){"use strict";t.r(a);t("14J3");var n,r,i,l,c,o,s,d,m,u,p,h,f,y,g=t("BMrR"),E=(t("jCWc"),t("kPKH")),k=(t("P2fV"),t("NJEC")),T=(t("+L6B"),t("2/Rp")),b=t("p0pE"),v=t.n(b),C=t("2Taf"),w=t.n(C),I=t("vZ4D"),F=t.n(I),_=t("l4Ni"),x=t.n(_),O=t("ujKo"),V=t.n(O),M=t("MhPg"),A=t.n(M),D=t("q1tI"),N=t.n(D),P=(t("17x9"),t("7Qib")),R=t("MuoO"),j=t("ZD0w"),S=t("Kvkj"),Y=t("Qyje"),q=(t("g9YV"),t("wCAj")),z=t("jehZ"),B=t.n(z),K=(t("Telt"),t("Tckk")),U=t("Y/ft"),J=t.n(U),L=(t("2qtc"),t("kLXV")),Z=t("mOP9"),Q=t("NBP6"),G=t.n(Q),H=L["a"].confirm,W=(n=Object(j["withI18n"])(),n((i=function(e){function a(){var e,t;w()(this,a);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return t=x()(this,(e=V()(a)).call.apply(e,[this].concat(r))),t.handleMenuClick=function(e,a){var n=t.props,r=n.onDeleteItem,i=n.onEditItem,l=n.i18n;"1"===a.key?i(e):"2"===a.key&&H({title:l._("Are you sure delete this record?"),onOk:function(){r(e.id)}})},t}return A()(a,e),F()(a,[{key:"render",value:function(){var e=this,a=this.props,t=(a.onDeleteItem,a.onEditItem,a.i18n),n=J()(a,["onDeleteItem","onEditItem","i18n"]),r=[{title:N.a.createElement(j["Trans"],{id:"Avatar"}),dataIndex:"avatar",key:"avatar",width:72,fixed:"left",render:function(e){return N.a.createElement(K["a"],{style:{marginLeft:8},src:e})}},{title:N.a.createElement(j["Trans"],{id:"Name"}),dataIndex:"name",key:"name",render:function(e,a){return N.a.createElement(Z["a"],{to:"user/".concat(a.id)},e)}},{title:N.a.createElement(j["Trans"],{id:"NickName"}),dataIndex:"nickName",key:"nickName"},{title:N.a.createElement(j["Trans"],{id:"Age"}),dataIndex:"age",key:"age"},{title:N.a.createElement(j["Trans"],{id:"Gender"}),dataIndex:"isMale",key:"isMale",render:function(e){return N.a.createElement("span",null,e?"Male":"Female")}},{title:N.a.createElement(j["Trans"],{id:"Phone"}),dataIndex:"phone",key:"phone"},{title:N.a.createElement(j["Trans"],{id:"Email"}),dataIndex:"email",key:"email"},{title:N.a.createElement(j["Trans"],{id:"Address"}),dataIndex:"address",key:"address"},{title:N.a.createElement(j["Trans"],{id:"CreateTime"}),dataIndex:"createTime",key:"createTime"},{title:N.a.createElement(j["Trans"],{id:"Operation"}),key:"operation",fixed:"right",render:function(a,n){return N.a.createElement(S["a"],{onMenuClick:function(a){return e.handleMenuClick(n,a)},menuOptions:[{key:"1",name:t._("Update")},{key:"2",name:t._("Delete")}]})}}];return N.a.createElement(q["a"],B()({},n,{pagination:v()({},n.pagination,{showTotal:function(e){return t._("Total {total} Items",{total:e})}}),className:G.a.table,bordered:!0,scroll:{x:1200},columns:r,simple:!0,rowKey:function(e){return e.id}}))}}]),a}(D["PureComponent"]),r=i))||r),X=W,$=(t("6UJt"),t("DFOY")),ee=(t("y8nQ"),t("Vl3Y")),ae=(t("iQDF"),t("+eQT")),te=(t("5NDa"),t("5rEg")),ne=t("wd/R"),re=t.n(ne),ie=t("Lo71"),le=te["a"].Search,ce=ae["a"].RangePicker,oe={xs:24,sm:12,style:{marginBottom:16}},se=v()({},oe,{xl:96}),de=(l=Object(j["withI18n"])(),c=ee["a"].create(),l(o=c((s=function(e){function a(){var e,t;w()(this,a);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return t=x()(this,(e=V()(a)).call.apply(e,[this].concat(r))),t.handleFields=function(e){var a=e.createTime;return a.length&&(e.createTime=[re()(a[0]).format("YYYY-MM-DD"),re()(a[1]).format("YYYY-MM-DD")]),e},t.handleSubmit=function(){var e=t.props,a=e.onFilterChange,n=e.form,r=n.getFieldsValue,i=r();i=t.handleFields(i),a(i)},t.handleReset=function(){var e=t.props.form,a=e.getFieldsValue,n=e.setFieldsValue,r=a();for(var i in r)({}).hasOwnProperty.call(r,i)&&(r[i]instanceof Array?r[i]=[]:r[i]=void 0);n(r),t.handleSubmit()},t.handleChange=function(e,a){var n=t.props,r=n.form,i=n.onFilterChange,l=r.getFieldsValue,c=l();c[e]=a,c=t.handleFields(c),i(c)},t}return A()(a,e),F()(a,[{key:"componentDidUpdate",value:function(e,a){0===Object.keys(e.filter).length&&this.handleReset()}},{key:"render",value:function(){var e=this.props,a=e.onAdd,t=e.filter,n=e.form,r=e.i18n,i=n.getFieldDecorator,l=t.name,c=t.address,o=[];return t.createTime&&t.createTime[0]&&(o[0]=re()(t.createTime[0])),t.createTime&&t.createTime[1]&&(o[1]=re()(t.createTime[1])),N.a.createElement(g["a"],{gutter:24},N.a.createElement(E["a"],B()({},oe,{xl:{span:4},md:{span:8}}),i("name",{initialValue:l})(N.a.createElement(le,{placeholder:r._("Search Name"),onSearch:this.handleSubmit}))),N.a.createElement(E["a"],B()({},oe,{xl:{span:4},md:{span:8},id:"addressCascader"}),i("address",{initialValue:c})(N.a.createElement($["a"],{style:{width:"100%"},options:ie["a"],placeholder:r._("Please pick an address"),onChange:this.handleChange.bind(this,"address"),getPopupContainer:function(){return document.getElementById("addressCascader")}}))),N.a.createElement(E["a"],B()({},oe,{xl:{span:6},md:{span:8},sm:{span:12},id:"createTimeRangePicker"}),N.a.createElement(S["c"],{label:r._("CreateTime")},i("createTime",{initialValue:o})(N.a.createElement(ce,{style:{width:"100%"},onChange:this.handleChange.bind(this,"createTime"),getCalendarContainer:function(){return document.getElementById("createTimeRangePicker")}})))),N.a.createElement(E["a"],B()({},se,{xl:{span:10},md:{span:24},sm:{span:24}}),N.a.createElement(g["a"],{type:"flex",align:"middle",justify:"space-between"},N.a.createElement("div",null,N.a.createElement(T["a"],{type:"primary",className:"margin-right",onClick:this.handleSubmit},N.a.createElement(j["Trans"],{id:"Search"})),N.a.createElement(T["a"],{onClick:this.handleReset},N.a.createElement(j["Trans"],{id:"Reset"}))),N.a.createElement(T["a"],{type:"ghost",onClick:a},N.a.createElement(j["Trans"],{id:"Create"})))))}}]),a}(D["Component"]),o=s))||o)||o),me=de,ue=(t("giR+"),t("fyUT")),pe=(t("7Kak"),t("9yH6")),he=ee["a"].Item,fe={labelCol:{span:6},wrapperCol:{span:14}},ye=(d=Object(j["withI18n"])(),m=ee["a"].create(),d(u=m((p=function(e){function a(){var e,t;w()(this,a);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return t=x()(this,(e=V()(a)).call.apply(e,[this].concat(r))),t.handleOk=function(){var e=t.props,a=e.item,n=void 0===a?{}:a,r=e.onOk,i=e.form,l=i.validateFields,c=i.getFieldsValue;l(function(e){if(!e){var a=v()({},c(),{key:n.key});a.address=a.address.join(" "),r(a)}})},t}return A()(a,e),F()(a,[{key:"render",value:function(){var e=this.props,a=e.item,t=void 0===a?{}:a,n=(e.onOk,e.form),r=e.i18n,i=J()(e,["item","onOk","form","i18n"]),l=n.getFieldDecorator;return N.a.createElement(L["a"],B()({},i,{onOk:this.handleOk}),N.a.createElement(ee["a"],{layout:"horizontal"},N.a.createElement(he,B()({label:r._("Name"),hasFeedback:!0},fe),l("name",{initialValue:t.name,rules:[{required:!0}]})(N.a.createElement(te["a"],null))),N.a.createElement(he,B()({label:r._("NickName"),hasFeedback:!0},fe),l("nickName",{initialValue:t.nickName,rules:[{required:!0}]})(N.a.createElement(te["a"],null))),N.a.createElement(he,B()({label:r._("Gender"),hasFeedback:!0},fe),l("isMale",{initialValue:t.isMale,rules:[{required:!0,type:"boolean"}]})(N.a.createElement(pe["a"].Group,null,N.a.createElement(pe["a"],{value:!0},N.a.createElement(j["Trans"],{id:"Male"})),N.a.createElement(pe["a"],{value:!1},N.a.createElement(j["Trans"],{id:"Female"}))))),N.a.createElement(he,B()({label:r._("Age"),hasFeedback:!0},fe),l("age",{initialValue:t.age,rules:[{required:!0,type:"number"}]})(N.a.createElement(ue["a"],{min:18,max:100}))),N.a.createElement(he,B()({label:r._("Phone"),hasFeedback:!0},fe),l("phone",{initialValue:t.phone,rules:[{required:!0,pattern:/^1[34578]\d{9}$/,message:r._("The input is not valid phone!")}]})(N.a.createElement(te["a"],null))),N.a.createElement(he,B()({label:r._("Email"),hasFeedback:!0},fe),l("email",{initialValue:t.email,rules:[{required:!0,pattern:/^([a-zA-Z0-9_-])+@([a-zA-Z0-9_-])+(.[a-zA-Z0-9_-])+/,message:r._("The input is not valid E-mail!")}]})(N.a.createElement(te["a"],null))),N.a.createElement(he,B()({label:r._("Address"),hasFeedback:!0},fe),l("address",{initialValue:t.address&&t.address.split(" "),rules:[{required:!0}]})(N.a.createElement($["a"],{style:{width:"100%"},options:ie["a"],placeholder:r._("Pick an address")})))))}}]),a}(D["PureComponent"]),u=p))||u)||u),ge=ye,Ee=(h=Object(j["withI18n"])(),f=Object(R["connect"])(function(e){var a=e.user,t=e.loading;return{user:a,loading:t}}),h(y=f(y=function(e){function a(){return w()(this,a),x()(this,V()(a).apply(this,arguments))}return A()(a,e),F()(a,[{key:"render",value:function(){var e=this.props,a=e.location,t=e.dispatch,n=e.user,r=e.loading,i=e.i18n,l=a.query,c=a.pathname,o=n.list,s=n.pagination,d=n.currentItem,m=n.modalVisible,u=n.modalType,p=n.selectedRowKeys,h=function(e){P["k"].push({pathname:c,search:Object(Y["stringify"])(v()({},l,e),{arrayFormat:"repeat"})})},f={item:"create"===u?{}:d,visible:m,maskClosable:!1,confirmLoading:r.effects["user/".concat(u)],title:"".concat("create"===u?i._("Create User"):i._("Update User")),centered:!0,onOk:function(e){t({type:"user/".concat(u),payload:e}).then(function(){h()})},onCancel:function(){t({type:"user/hideModal"})}},y={dataSource:o,loading:r.effects["user/query"],pagination:s,onChange:function(e){h({page:e.current,pageSize:e.pageSize})},onDeleteItem:function(e){t({type:"user/delete",payload:e}).then(function(){h({page:1===o.length&&s.current>1?s.current-1:s.current})})},onEditItem:function(e){t({type:"user/showModal",payload:{modalType:"update",currentItem:e}})},rowSelection:{selectedRowKeys:p,onChange:function(e){t({type:"user/updateState",payload:{selectedRowKeys:e}})}}},b={filter:v()({},l),onFilterChange:function(e){h(v()({},e,{page:1}))},onAdd:function(){t({type:"user/showModal",payload:{modalType:"create"}})}},C=function(){t({type:"user/multiDelete",payload:{ids:p}}).then(function(){h({page:o.length===p.length&&s.current>1?s.current-1:s.current})})};return N.a.createElement(S["f"],{inner:!0},N.a.createElement(me,b),p.length>0&&N.a.createElement(g["a"],{style:{marginBottom:24,textAlign:"right",fontSize:13}},N.a.createElement(E["a"],null,"Selected ".concat(p.length," items "),N.a.createElement(k["a"],{title:"Are you sure delete these items?",placement:"left",onConfirm:C},N.a.createElement(T["a"],{type:"primary",style:{marginLeft:8}},"Remove")))),N.a.createElement(X,y),m&&N.a.createElement(ge,f))}}]),a}(D["PureComponent"]))||y)||y);a["default"]=Ee}}]);